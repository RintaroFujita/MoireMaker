# 動的モアレ生成器

Pythonで作成された動的なモアレパターンを生成・表示するGUIアプリケーションです。

## 機能

### メインアプリケーション (`pyqt_moire.py`)
- **3種類のモアレパターン**
  - Standard: 基本的なモアレパターン
  - Wave: 波模様パターン（複雑さ・歪みパラメータ付き）
  - Tree Rings: 木の年輪パターン（歪み・複雑さパラメータ付き）
- **リアルタイムアニメーション**（60FPS）
- **GPU加速対応**（OpenCL、Numba）
- **動的リサイズ対応**
- **FPS表示**
- **詳細なパラメータ制御**

### 基本アプリケーション (`moire_app.py`)
- 線形モアレパターンの生成
- リアルタイムアニメーション
- スライダーによるパラメータ制御
- 周波数、角度、位相の調整

### 高度なアプリケーション (`advanced_moire.py`)
- 4種類のモアレパターン
  - 線形 (Linear)
  - 円形 (Circular)
  - ラジアル (Radial)
  - スパイラル (Spiral)
- より詳細なパラメータ制御
- プリセット機能
- 中心位置と半径の調整

## インストール

1. 必要なパッケージをインストール:
```bash
pip install -r requirements.txt
```

## 使用方法

### 基本アプリケーションの実行
```bash
python moire_app.py
```

### 高度なアプリケーションの実行
```bash
python advanced_moire.py
```

## Windowsの場合

### 依存パッケージのインストール
```cmd
pip install -r requirements.txt
```

GPU機能を使いたい場合は追加で：
```cmd
pip install pyopencl numba
```

### 実行方法
```cmd
python pyqt_moire.py
```

### exeファイル化（スタンドアロン化）
1. PyInstallerをインストール
```cmd
pip install pyinstaller
```

2. exe化コマンドを実行
```cmd
pyinstaller --onefile --windowed pyqt_moire.py
```

3. `dist/pyqt_moire.exe` が生成されます

### Windowsでの注意事項
- GPU機能はPCの環境・ドライバによって動作しない場合があります
- exe化後はPythonがインストールされていないPCでも動作します
- 実行時にウイルス対策ソフトが警告を出す場合がありますが、問題ありません

## コントロール

### 基本パラメータ
- **周波数**: パターンの密度を制御
- **角度**: パターンの方向を制御
- **位相**: パターンの開始位置を制御
- **アニメーション速度**: 動きの速さを制御

### 高度なパラメータ
- **パターンタイプ**: 線形、円形、ラジアル、スパイラルから選択
- **中心位置**: 円形・ラジアル・スパイラルパターンの中心位置
- **半径**: スパイラルパターンの半径パラメータ

## プリセット

高度なアプリケーションには以下のプリセットが含まれています：

1. **プリセット1**: 円形モアレパターン
2. **プリセット2**: スパイラルモアレパターン

## 技術仕様

- **言語**: Python 3.7+
- **GUI**: PyQt5（メイン）、tkinter（レガシー）
- **グラフィックス**: matplotlib
- **数値計算**: numpy
- **GPU加速**: OpenCL、Numba（オプション）

## ファイル構成

```
moaremaker/
├── pyqt_moire.py         # メインのモアレアプリケーション（PyQt5版）
├── moire_app.py          # 基本モアレアプリケーション
├── advanced_moire.py     # 高度なモアレアプリケーション
├── requirements.txt      # 依存パッケージ
├── README_windows.txt    # Windows用セットアップガイド
└── README.md            # このファイル
```

## モアレパターンの原理

モアレパターンは、2つの周期的なパターンを重ね合わせることで生じる干渉模様です。

### 線形モアレ
2つの正弦波パターンを異なる角度で重ね合わせて生成されます。

### 円形モアレ
中心からの距離に基づく周期的なパターンを重ね合わせて生成されます。

### ラジアルモアレ
角度に基づく周期的なパターンを重ね合わせて生成されます。

### スパイラルモアレ
距離と角度の組み合わせによる螺旋状のパターンを重ね合わせて生成されます。

## トラブルシューティング

### 表示が遅い場合
- アニメーション速度を下げてください
- ウィンドウサイズを小さくしてください

### パターンが表示されない場合
- 周波数値を確認してください
- 角度設定を確認してください

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。 